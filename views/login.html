<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/footer.css">
  <link rel="stylesheet" href="css/login.css">
</head>
<body>
  <%-include('./header.html')%>
  <div class="content">
    <div class="warp">
      <div class="login-ad">
        <div>
          <h3>用户登录</h3>
          <form action="" onsubmit="return false">
            <ul>
              <li>
                <input type="text" placeholder="用户名/邮箱地址/手机号" id='userphone'>
                <span id="adText"></span>
              </li>
              <li>
                <input type="text" placeholder="填写密码">
              </li>
              <li>
                <input type="text" placeholder="验证码" id="userVer">
                <button id="getCode">获取验证码</button>
              </li>
              <li>
                <button id="getSub">提交</button>
              </li>
              
            </ul>
          </form>
        </div>
      </div>
    </div>
  </div>
  <%-include('./footer.html')%>
  <script src="js/jquery-3.4.1.min.js"></script>
  <script>
    var phone = /^1[3456789]\d{9}$/
    var timer =  null
    var num = 60
    var digit = '123'

    $('#getCode').click(function(){
      if(phone.test($('#userphone').val())){
        $('#adText').text('手机号正确')
        timer=setInterval(function(){
          num--;
          if(num<1){
            clearInterval(timer)
            $('#getCode').text('重新获取验证码')
            num=3
            $('#getCode').attr('disabled',false)
          }else{
            $('#getCode').text('倒计时'+num)
            $('#getCode').attr('disabled',true)
          }
        },1000)
      }else{
        $('#adText').text('手机号错误')
      }
    })

    $('#getSub').click(function(){
      if(digit ==$('#userVer').val()){
        alert('登录成功')
      }else{
        alert('登录失败')
      }
    })
  </script>
</body>
</html>